{"version":3,"sources":["components/imageGallery/imageGalleryItem/imageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/App.module.css","components/services/apiPixabay.js","components/searchbar/Searchbar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","page","fetchImages","query","queryParams","this","axios","get","then","data","incrementPage","hits","resetPage","Searchbar","state","name","handleChange","e","target","value","setState","handleSubmit","preventDefault","apiPixabay","props","onSubmit","reset","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","items","map","item","key","id","src","webformatURL","data-sourse","largeImageURL","alt","ImageGalleryItemImage","ImageGallery","Loadder","style","textAlign","color","height","width","Button","onLoadMore","onClick","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","Overlay","ref","App","images","isLoading","isModalOpen","imageOnModal","error","buttonLoadMore","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","console","log","openModalAndGiveBigImage","nodeName","imageBig","getAttribute","closeModal","prevProps","prevState","finally","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dd766030.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2fV_X\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__1m-Er\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2mjcs\",\"Modal\":\"Modal_Modal__2k_hl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1BoUp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__Dh_hk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3xSGx\"};","import axios from 'axios';\r\n\r\nconst baseUrl = 'https://pixabay.com/api/?q=';\r\nconst ApiKey = '15216450-d096caa7dd5d740f777344039';\r\n\r\nexport default {\r\n    page: 1,\r\n\r\n    fetchImages(query) {\r\n        const queryParams = `&page=${this.page}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n\r\n        return axios.get(baseUrl + query + queryParams)\r\n            .then(({ data }) => {\r\n                this.incrementPage()\r\n                return data.hits\r\n            })\r\n    },\r\n    incrementPage() {\r\n        this.page += 1;\r\n    },\r\n    resetPage() {\r\n        this.page = 1;\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\nimport apiPixabay from '../services/apiPixabay';\r\n\r\nclass Searchbar extends Component {\r\n\r\n    state = {\r\n        name: ''\r\n    }\r\n\r\n    handleChange = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        apiPixabay.resetPage();\r\n\r\n        this.props.onSubmit({ ...this.state });\r\n        this.reset();\r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            name: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <header className={styles.Searchbar}>\r\n                    <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n                        <button type=\"submit\" className={styles.SearchFormButton}>\r\n                            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                        </button>\r\n\r\n                        <input\r\n                            className={styles.SearchFormInput}\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            value={this.state.name}\r\n                            autoComplete=\"off\"\r\n                            autoFocus\r\n                            onChange={this.handleChange}\r\n                            placeholder=\"Search images and photos\"\r\n                        />\r\n                    </form>\r\n                </header>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n}","import React from 'react';\r\nimport styles from './imageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ items }) => {\r\n    const alt = \"some image\"\r\n    return (\r\n        <>\r\n            {items.map(item => {\r\n                return (<li key={item.id} className={styles.ImageGalleryItem}>\r\n                    <img src={item.webformatURL} data-sourse={item.largeImageURL} alt={alt} className={styles.ImageGalleryItemImage} />\r\n                </li>)\r\n            })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n    friends: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        webformatURL: PropTypes.string.isRequired\r\n    }))\r\n};","import React from 'react';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ImageGallery = ({ items }) => {\r\n    return (\r\n        <>\r\n            <ul className={styles.ImageGallery}>\r\n                <ImageGalleryItem items={items} />\r\n            </ul>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n    friends: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        webformatURL: PropTypes.string.isRequired\r\n    }))\r\n};","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Loadder = () => {\r\n    const style = { textAlign: 'center' };\r\n    return (\r\n        <div style={style}>\r\n            <Loader\r\n                type=\"ThreeDots\"\r\n                color=\"blue\"\r\n                height={200}\r\n                width={300}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loadder;","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onLoadMore }) => <button onClick={onLoadMore} type=\"button\" className={styles.Button}>Load more</button>\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired\r\n}","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n    backdropRef = createRef();\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyPress);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyPress);\r\n    }\r\n\r\n\r\n    handleKeyPress = e => {\r\n        if (e.code !== 'Escape') return;\r\n\r\n        this.props.onClose()\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        const { current } = this.backdropRef;\r\n\r\n        if (current && e.target !== current) return;\r\n\r\n        this.props.onClose()\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <div\r\n                className={styles.Overlay}\r\n                ref={this.backdropRef}\r\n                onClick={this.handleBackdropClick} >\r\n                <div className={styles.Modal}>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.object.isRequired\r\n}","import React, { Component } from 'react';\r\nimport Searchbar from './searchbar/Searchbar';\r\nimport ImageGallery from './imageGallery/ImageGallery';\r\nimport Loadder from './loader/Loader';\r\nimport Button from './button/Button';\r\nimport apiPixabay from './services/apiPixabay';\r\nimport Modal from './modal/Modal';\r\nimport './App.module.css';\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n    state = {\r\n        images: [],\r\n        isLoading: false,\r\n        isModalOpen: false,\r\n        query: '',\r\n        imageOnModal: '',\r\n        error: null,\r\n    }\r\n\r\n    onSubmit = ({ name }) => {\r\n        this.setState({\r\n            query: name\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevState.query !== this.state.query) {\r\n            this.setState({ isLoading: true });\r\n            const query = this.state.query\r\n\r\n            apiPixabay\r\n                .fetchImages(query)\r\n                .then((hits) => {\r\n                    this.setState({ images: hits })\r\n                })\r\n                .catch(error => this.setState({ error }))\r\n                .finally(() => this.setState({ isLoading: false }));\r\n        }\r\n    }\r\n\r\n    buttonLoadMore = () => {\r\n        apiPixabay\r\n            .fetchImages(this.state.query)\r\n            .then((hits) => {\r\n                this.setState(state => ({ images: [...state.images, ...hits] }))\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('click', this.openModalAndGiveBigImage);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('click', this.openModalAndGiveBigImage);\r\n    }\r\n\r\n    openModalAndGiveBigImage = (e) => {\r\n        if (e.target.nodeName === \"IMG\") {\r\n            this.setState({ isModalOpen: true })\r\n\r\n            const imageBig = e.target.getAttribute('data-sourse');\r\n            this.setState({ imageOnModal: imageBig })\r\n        }\r\n    }\r\n\r\n    closeModal = () => this.setState({ isModalOpen: false });\r\n\r\n\r\n    render() {\r\n        const { images, isLoading, isModalOpen, imageOnModal, error } = this.state;\r\n\r\n        const styleForError = { color: 'red', textAlign: 'center' };\r\n\r\n        return (\r\n            <>\r\n                <Searchbar onSubmit={this.onSubmit} />\r\n                {error && <h2 style={styleForError}>Whoops, something went wrong: {error.message}, try again later...</h2>}\r\n                {isLoading ? <Loadder /> : <ImageGallery items={images} />}\r\n                {images.length > 0 && <Button onLoadMore={this.buttonLoadMore} />}\r\n                {isModalOpen && <Modal onClose={this.closeModal}>\r\n                    {<img src={imageOnModal} data-sourse={imageOnModal} alt=\"some alt\" />}\r\n                </Modal>}\r\n            </>\r\n        )\r\n    }\r\n\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__16zgi\",\"SearchForm\":\"Searchbar_SearchForm__2wgMh\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3W850\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3B4wt\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3S4Uv\"};"],"sourceRoot":""}